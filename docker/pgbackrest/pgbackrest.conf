# pgBackRest configuration for CRM Protegrt
# Production: /etc/pgbackrest/pgbackrest.conf
#
# This file is used on the PRIMARY VPS (where PostgreSQL runs).
# The repo is on a REMOTE VPS (backup server) accessed via SSH.

[global]
# Repository on remote backup VPS
repo1-host=${BACKUP_VPS_HOST}
repo1-host-user=pgbackrest
repo1-path=/var/lib/pgbackrest
repo1-retention-full=4
repo1-retention-diff=14
repo1-cipher-type=aes-256-cbc
repo1-cipher-pass=${PGBACKREST_CIPHER_PASS}
process-max=2

# Compression
compress-type=zst
compress-level=3

# Logging
log-level-console=info
log-level-file=detail
log-path=/var/log/pgbackrest

[protegrt]
pg1-path=/var/lib/postgresql/data
pg1-port=5432
pg1-user=protegrt
